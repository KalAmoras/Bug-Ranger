{"ast":null,"code":"import _objectSpread from\"C:/Users/K/source/bug-ranger/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/K/source/bug-ranger/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/K/source/bug-ranger/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{IssueForm}from'./IssueForm';import{Issue}from'./Issue';import{v4 as uuidv4}from'uuid';import{EditIssueForm}from'./EditIssueForm';import Sorter from'./Sorter';import Logo from'../assets/BugRangerLogo.svg';/*TODO: Pie graph, auth, prioritize, better icons, logo, search as component\r\nnavbar, better styling\r\n*/import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var IssueWrapper=function IssueWrapper(){var _useState=useState(function(){var tempJson=localStorage.getItem(\"ISSUES\");if(tempJson==null)return[];return JSON.parse(tempJson);}),_useState2=_slicedToArray(_useState,2),issues=_useState2[0],setIssues=_useState2[1];useEffect(function(){localStorage.setItem(\"ISSUES\",JSON.stringify(issues));},[issues]);var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),query=_useState4[0],setQuery=_useState4[1];var addIssue=function addIssue(issue,line,component,priority,severity,statusKey,assignee){var datePost=new Date().toLocaleString();setIssues([].concat(_toConsumableArray(issues),[{id:uuidv4(),issue:issue,completed:false,isEditing:false,line:line,component:component,date:datePost,severity:severity,priority:priority,statusKey:statusKey,assignee:assignee}]));};var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),open=_useState6[0],setOpen=_useState6[1];var toggleComplete=function toggleComplete(id){setIssues(issues.map(function(issue){return issue.id===id?_objectSpread(_objectSpread({},issue),{},{completed:!issue.completed}):issue;}));};var deleteIssue=function deleteIssue(id){if(window.confirm('Are you sure you wish to delete this item?')){return setIssues(issues.filter(function(value){return value.id!==id;}));}};var editIssue=function editIssue(id){setIssues(issues.map(function(issue){return issue.id===id?_objectSpread(_objectSpread({},issue),{},{isEditing:!issue.isEditing}):issue;}));};var handleCancel=function handleCancel(id){setIssues(function(prevIssue){var newIssue=_toConsumableArray(prevIssue);var originalIssue=newIssue[id];newIssue[id]=_objectSpread(_objectSpread({},originalIssue),{},{isEditing:false});return newIssue;});};var editTask=function editTask(idOriginal,issue,line,component,priority,severity,statusKey,assignee){var datePost=new Date().toLocaleString();setIssues(issues.map(function(issueUnit){return issueUnit.id===idOriginal?{id:idOriginal,issue:issue,completed:false,isEditing:false,line:line,component:component,date:datePost,severity:severity,priority:priority,statusKey:statusKey,assignee:assignee}:issueUnit;}));};var keys=[\"issue\",\"line\",\"component\",\"priority\",\"severity\",\"statusKey\",\"assignee\"];var handleSort=function handleSort(order,key){if(order===\"ASC\"){var sorted=_toConsumableArray(issues).sort(function(a,b){return a[key]>b[key]?1:-1;});setIssues(sorted);}if(order===\"DSC\"){var _sorted=_toConsumableArray(issues).sort(function(a,b){return a[key]<b[key]?1:-1;});setIssues(_sorted);}};var handleButton=function handleButton(){setOpen(!open);};/*\r\n  {open ? <IssueForm addIssue={addIssue} openText={'active'}/> \r\n      : <IssueForm addIssue={addIssue} openText={'inactive'}/> }\r\n  \r\n  */return/*#__PURE__*/_jsxs(\"div\",{className:\"IssueWrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:Logo,alt:\"\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-button\",onClick:function onClick(){return handleButton();},children:\"Add an Issue\"}),/*#__PURE__*/_jsx(IssueForm,{addIssue:addIssue,openText:open?'active':'inactive'}),/*#__PURE__*/_jsx(\"input\",{className:\"search-bar\",placeholder:\"Search your issue\",onChange:function onChange(e){return setQuery(e.target.value);}}),/*#__PURE__*/_jsx(Sorter,{onSort:handleSort}),issues.filter(function(issue){return query!==\"\"?keys.some(function(key){return issue[key].includes(query);}):issues;}).map(function(issue,index){return issue.isEditing?/*#__PURE__*/_jsx(EditIssueForm,{editBug:editTask,issuePrev:issue,idIssue:issue.id,onCancel:function onCancel(){return handleCancel(index);}}):/*#__PURE__*/_jsx(Issue,{issue:issue,deleteIssue:deleteIssue,editIssue:editIssue,toggleComplete:toggleComplete},index);})]});};export default IssueWrapper;","map":{"version":3,"names":["React","useState","useEffect","IssueForm","Issue","v4","uuidv4","EditIssueForm","Sorter","Logo","jsx","_jsx","jsxs","_jsxs","IssueWrapper","_useState","tempJson","localStorage","getItem","JSON","parse","_useState2","_slicedToArray","issues","setIssues","setItem","stringify","_useState3","_useState4","query","setQuery","addIssue","issue","line","component","priority","severity","statusKey","assignee","datePost","Date","toLocaleString","concat","_toConsumableArray","id","completed","isEditing","date","_useState5","_useState6","open","setOpen","toggleComplete","map","_objectSpread","deleteIssue","window","confirm","filter","value","editIssue","handleCancel","prevIssue","newIssue","originalIssue","editTask","idOriginal","issueUnit","keys","handleSort","order","key","sorted","sort","a","b","handleButton","className","children","src","alt","onClick","openText","placeholder","onChange","e","target","onSort","some","includes","index","editBug","issuePrev","idIssue","onCancel"],"sources":["C:/Users/K/source/bug-ranger/src/components/IssueWrapper.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { IssueForm } from './IssueForm'\r\nimport { Issue } from './Issue'\r\nimport { v4 as uuidv4 } from 'uuid'\r\nimport { EditIssueForm } from './EditIssueForm'\r\nimport Sorter from './Sorter'\r\nimport Logo from '../assets/BugRangerLogo.svg'\r\n\r\n/*TODO: Pie graph, auth, prioritize, better icons, logo, search as component\r\nnavbar, better styling\r\n*/\r\n\r\n\r\nconst IssueWrapper = () => {\r\n    const[issues,setIssues] = useState(()=>{\r\n        const tempJson = localStorage.getItem(\"ISSUES\")\r\n        if(tempJson==null) return []\r\n\r\n        return JSON.parse(tempJson)\r\n    })\r\n\r\n    useEffect(()=>{\r\n        localStorage.setItem(\"ISSUES\", JSON.stringify(issues))\r\n    },[issues])\r\n\r\n    const [query, setQuery] = useState(\"\")\r\n\r\n    const addIssue = (\r\n            issue, \r\n            line, \r\n            component, \r\n            priority, \r\n            severity, \r\n            statusKey, \r\n            assignee) => {\r\n\r\n        const datePost = new Date().toLocaleString()\r\n\r\n        setIssues([\r\n            ...issues, \r\n            {\r\n                id: uuidv4(),\r\n                issue: issue,\r\n                completed: false,\r\n                isEditing: false,\r\n                line: line,\r\n                component: component,\r\n                date: datePost,                \r\n                severity: severity,\r\n                priority: priority,\r\n                statusKey: statusKey,\r\n                assignee: assignee\r\n            }\r\n        ])\r\n    }\r\n\r\n    const [open, setOpen] = useState(false)\r\n\r\n    const toggleComplete = id => {\r\n        setIssues(\r\n          issues.map(issue =>\r\n            issue.id === id ? { ...issue, completed: !issue.completed } : issue\r\n          )\r\n        );\r\n    }\r\n\r\n    const deleteIssue = id => {\r\n        if (window.confirm('Are you sure you wish to delete this item?')){\r\n        return setIssues(issues.filter(value=> value.id !== id))\r\n        }\r\n    }\r\n\r\n    const editIssue = id =>{\r\n        setIssues(issues.map(issue=> issue.id === id ?\r\n            {...issue, isEditing: !issue.isEditing}: issue))\r\n    }\r\n\r\n    const handleCancel = id => {\r\n        setIssues((prevIssue) => {\r\n          const newIssue = [...prevIssue];\r\n          const originalIssue = newIssue[id];\r\n          newIssue[id] = { ...originalIssue, isEditing: false };\r\n          return newIssue;\r\n        });\r\n      };\r\n    \r\n    \r\n    const editTask = (\r\n        idOriginal,\r\n        issue, \r\n        line,\r\n        component,  \r\n        priority, \r\n        severity,\r\n        statusKey,\r\n        assignee) => {\r\n\r\n            const datePost = new Date().toLocaleString()\r\n\r\n            setIssues(issues.map(issueUnit => issueUnit.id === idOriginal ?\r\n                {        \r\n                    id: idOriginal,            \r\n                    issue: issue,\r\n                    completed: false,\r\n                    isEditing: false,\r\n                    line: line,\r\n                    component: component,\r\n                    date: datePost,\r\n                    severity: severity,\r\n                    priority: priority,\r\n                    statusKey: statusKey,\r\n                    assignee: assignee,\r\n                } : issueUnit\r\n            ))\r\n        }\r\n    \r\n    const keys = [\r\n        \"issue\", \r\n        \"line\", \r\n        \"component\", \r\n        \"priority\", \r\n        \"severity\", \r\n        \"statusKey\",\r\n        \"assignee\"\r\n    ]\r\n\r\n   const handleSort = (order, key) => {\r\n        if(order === \"ASC\"){\r\n            const sorted = [...issues].sort((a,b) =>\r\n                a[key] > b[key] ? 1 : -1\r\n            )\r\n            setIssues(sorted)\r\n        }\r\n        if(order === \"DSC\"){\r\n            const sorted = [...issues].sort((a,b) =>\r\n                a[key] < b[key] ? 1 : -1\r\n            )\r\n            setIssues(sorted)\r\n        }\r\n   }\r\n   \r\n \r\n   const handleButton = ()=>{\r\n    setOpen(!open)\r\n  }\r\n\r\n  /*\r\n  {open ? <IssueForm addIssue={addIssue} openText={'active'}/> \r\n      : <IssueForm addIssue={addIssue} openText={'inactive'}/> }\r\n  \r\n  */\r\n\r\n  return (\r\n    <div className='IssueWrapper'>\r\n        <img src={Logo} alt=\"\"></img>\r\n        <button className='add-button' onClick={()=>handleButton()}>Add an Issue</button>\r\n        <IssueForm addIssue={addIssue} openText={open ? 'active' : 'inactive'}/>\r\n        <input className='search-bar'\r\n            placeholder='Search your issue'\r\n            onChange={e=>setQuery(e.target.value)}\r\n            ></input>\r\n        <Sorter onSort={handleSort}/>\r\n        {issues.filter(issue=>(\r\n            query !== \"\"?\r\n            keys.some(key=>issue[key].includes(query)) :\r\n            issues\r\n        ))\r\n        .map((issue,index)=>(\r\n            issue.isEditing ? (\r\n                <EditIssueForm editBug={editTask} \r\n                issuePrev={issue}\r\n                idIssue={issue.id}\r\n                onCancel={() => handleCancel(index)}/>\r\n            ) : (\r\n                <Issue issue={issue}\r\n                key={index}\r\n                deleteIssue={deleteIssue}\r\n                editIssue={editIssue}\r\n                toggleComplete={toggleComplete}/>\r\n            )\r\n        ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default IssueWrapper"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}